<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Antsy Records</title>

    <!-- ✅ Essential Meta -->
    <meta name="description" content="Explore Antsy Records' diverse music catalog with a fully interactive experience.">
    <meta name="keywords" content="Antsy Records, music, Bandcamp, albums, artists">
    
    <!-- ✅ Favicon -->
    <link rel="icon" href="icons/favicon.ico" type="image/x-icon">

    <!-- ✅ Stylesheets -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/desktop.css">
    <link rel="stylesheet" href="css/windows.css">
    <link rel="stylesheet" href="css/catalog.css">
    <link rel="stylesheet" href="css/markdown.css">
    <link rel="stylesheet" href="css/tooltips.css">
    <link rel="stylesheet" href="css/ticker.css">
    <link rel="stylesheet" href="css/media.css">
    <link rel="stylesheet" href="css/player.css">
    <link rel="stylesheet" href="css/settings.css">

    <!-- ✅ Markdown Support -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

    <!-- ✅ Core Managers (Modules) -->
    <script type="module" src="js/dragManager.js"></script>
    <script type="module" src="js/windowManager.js"></script>
    <script type="module" src="js/iconManager.js"></script>
    <script type="module" src="js/iconHandler.js"></script>
    <script type="module" src="js/resizeHandler.js"></script>

    <!-- ✅ Window and Content Loaders -->
    <script type="module">
        import "./js/catalogWindow.js";
        import "./js/playerWindow.js";
        import "./js/bandcampEmbed.js";
        import "./js/settings.js";
    </script>    

    <!-- ✅ Ensuring Proper Initialization -->
    <script type="module">
        import { initializeDragManager } from "./js/dragManager.js";
        import { initializeIcons } from "./js/iconHandler.js";
        import { initializeWindows } from "./js/windowManager.js";

        document.addEventListener("DOMContentLoaded", async () => {
            console.log("✅ Ensuring Proper Initialization...");
            initializeDragManager();
            initializeIcons();
            initializeWindows();
        });
    </script>
</head>
<body>
    <!-- ✅ Background Overlay -->
    <div id="background-overlay"></div>

    <!-- ✅ Desktop Container -->
    <div id="desktop-container" role="main">
        <div id="desktop">
            <!-- 🎵 Music Catalog -->
            <div class="icon" data-file="music-catalog">
                <img src="icons/folder-music.png" alt="Music Catalog">
                <span>Music Catalog</span>
            </div>

            <!-- ℹ️ About -->
            <div class="icon" data-file="about">
                <img src="icons/about.png" alt="About">
                <span>About</span>
            </div>

            <!-- ⚙️ Settings -->
            <div class="icon" data-file="settings">
                <img src="icons/settings.png" alt="Settings">
                <span>Settings</span>
            </div>

            <!-- 🌐 Other Seigr "Desktops" Links -->
            <div class="icon shortcut" data-url="http://sonisk.seigr.net">
                <img src="icons/audio.png" alt="Sonisk">
                <span>Sonisk Seigr</span>
            </div>

            <div class="icon shortcut" data-url="http://seigr.net">
                <img src="icons/seigr.png" alt="Seigr">
                <span>Seigr</span>
            </div>
        </div>
    </div>

    <!-- ✅ Window Container -->
    <div id="window-container"></div>

    <!-- ✅ Scrolling Ticker -->
    <div id="ticker-container">
        <div id="ticker">🚧 Site Under Construction 🚧</div>
    </div>

</body>
</html>
